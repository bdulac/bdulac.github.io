---
layout: post
title: "Web components: adaptation of an XML document"
categories: 
  - Web
  - Web components
  - W3C
  - Polymer
  - UML
  - Software design
  - Software engineering
resource: true
---
<p>
Following my <a href="../note/web-components-polymer">previous post</a>, I tried to play with <a href="https://www.polymer-project.org/">Polymer</a> on my spare time. In my mind, Web components could be an important point for the architecture of the Web. On one side the Web would be easier to handle for automated systems because of the separation of information and presentation. On the other side Web applications would become easier to design for the same reason.
</p>
<p>
Software modeling is interesting because it provides a graphical representation of software. As a consequence, UML is an expressive representation for design and documentation. The <a href="http://wiki.eclipse.org/MDT-UML2">Eclipse UML2</a> project relies on an XML file which <a href="http://modeling-languages.com/eclipse-mdtuml2-xmi-de-facto-standard/">tends to become</a> a standard form for the persistence of UML models. In that XML file all the informations relative to an UML model are available.
<p>  
In the discovery of the Polymer platform came the idea of <em><a href="https://github.com/bdulac/polymeria">Polymeria</a></em>: bridging the gap between the XML representation of an UML model and its graphical representation. The principle sounds simple: writing a Web component for each UML element. This is an echo to the idea <a href="http://www.youtube.com/watch?v=8OJ7ih8EE7s">exposed </a> by E. Bidelman that <b>every framework is compatible with 
<span itemprop="citation" itemscope itemtype="http://schema.org/TechArticle">
	<a href="http://www.w3.org/DOM/#what">DOM</a>
	<meta itemprop="url" content="http://www.w3.org/DOM/#what" />
	<link itemprop="sameAs" href="http://en.wikipedia.org/wiki/Document_Object_Model#cite_note-Introduction-1" />
	<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
		<meta itemprop="legalName" content="World Wide Web Consortium" />
		<link itemprop="sameAs" href="http://www.w3.org/"></link>
		<link itemprop="sameAs" href="http://en.wikipedia.org/wiki/World_Wide_Web_Consortium"></link>
	</span>
</span></b> (further information is available in my previous post).
</p>
<p>
First constraint: <a href="http://webcomponents.org/articles/how-should-i-name-my-element/">Web component names</a> <b>must contain a dash</b> in order to avoid <em>overriding</em> standard HTML element names. The problem is that Eclipse UML2 XML element names do not necessarily contain a dash. In other words, the XML file needs a transformation. 
<p>
UML elements are nested in each other because of the XML nature of the Eclipse UML2 file (the root element being the model itself). It seems easy: Web components will be nested on several levels. But this does not work as expected and <a href="../sample/polymeria-nested-packages-bug">some classes appear in a wrong package</a>. Here comes <a href="https://github.com/bdulac/polymeria/issues/1">the main issue</a>. According to <a href="https://www.polymer-project.org/docs/start/tutorial/step-2.html#edit-post-cardhtml">the Polymer tutorial</a>, "the final </b>&lt;content&gt; tag, with no select attribute, <b>selects any nodes that haven't already been inserted</b>".
</p>
<p>
The main issue comes with the Web component for an UML attribute: the XML tag generated by most UML2 tools is self-closing. The behavior is quite surprising in some cases, some <a href="<a href="https://github.com/bdulac/polymeria/issues/1">side-effects<a> are completely unexpected. For <a href="../sample/polymeria-nested-packages-bug">>example</a>, some classes appear in a wrong package. I open <a href="https://github.com/Polymer/polymer/issues/962">an issue in the Polymer projet</a> because the self-closing tag renders properly with a useless &lt;content&gt; tag. And it appears <a href="https://github.com/Polymer/polymer/issues/899">one</a> and <a href="https://github.com/Polymer/polymer/issues/628">two</a> others had been submitted before. <b>Self-closing tags are not allowed in Web components</b>.
</p>
<p>
Every framework is compatible with DOM. But DOM is not necessarily compatible with Web components. After these three limitations, it seems Web components are perhaps XML compliant. However <b>an XML model is tricky to adapt as a Web components document</b>. The random support of self-closing tags can be rather disappointing for a first contact with Web components...
</p>