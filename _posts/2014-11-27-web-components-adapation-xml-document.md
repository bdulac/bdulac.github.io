---
layout: post
title: "Web components: adaptation of an XML document"
categories: 
  - Web
  - Web components
  - W3C
  - Polymer
  - UML
  - Software design
  - Software engineering
resource: true
---
<p>
Following my <a href="../note/web-components-polymer">previous post</a>, I tried to play with <a href="https://www.polymer-project.org/">Polymer</a> on my spare time. In my mind, Web components could be an important point for the architecture of the Web. On one side the Web would be easier to handle for automated systems because of the separation of information and presentation. On the other side Web applications would become easier to design for the same reason.
</p>
<p>
Software modeling is interesting because it provides a graphical representation of software. As a consequence, UML is an expressive representation for design and documentation. The <a href="http://wiki.eclipse.org/MDT-UML2">Eclipse UML2</a> project relies on an XML file which <a href="http://modeling-languages.com/eclipse-mdtuml2-xmi-de-facto-standard/">tends to become</a> a standard form for the persistence of UML models. In that XML file all the informations relative to an UML model are available.
<p>  
In the discovery of the Polymer platform came the idea of <em><a href="https://github.com/bdulac/polymeria">Polymeria</a></em>: bridging the gap between the XML representation of an UML model and its graphical representation. The principle sounds simple: writing a Web component for each UML element.
</p>
<p>
First constraint: Web component names <a href="http://webcomponents.org/articles/how-should-i-name-my-element/">must contain a dash</a> in order to avoid <em>overriding</em> standard HTML element names. The problem is that Eclipse UML2 XML element names do not necessarily contain a dash. In other words, the XML file needs a transformation. 
<p>
UML elements are nested in each other because of the XML nature of the Eclipse UML2 file (the root element being the model itself). It seems easy: Web components will be nested on several levels. But this does not work as expected and some classes appear in a wrong package. Here comes <a href="https://github.com/bdulac/polymeria/issues/1">the main issue</a>. According to <a href="https://www.polymer-project.org/docs/start/tutorial/step-2.html#edit-post-cardhtml">the Polymer tutorial</a>, "the final &lt;content&gt; tag, with no select attribute, selects any nodes that haven't already been inserted".
</p>
<p>
A third problem comes with the Web component for an attribute: the XML tag generated by most UML2 tools is self-closing. The behavior is quite surprising in some cases. I open <a href="https://github.com/Polymer/polymer/issues/962">an issue in the Polymer projet</a>. And it appears <a href="https://github.com/Polymer/polymer/issues/899">one</a> and <a href="https://github.com/Polymer/polymer/issues/628">two</a> others had been submitted before. Self-closing tag are not allowed in Web components.
</p>
<p>
After these three limitations, it seems Web components are perhaps XML compliant. But XML is tricky to adapt to Web components. The second point is rather disappointing...
</p>