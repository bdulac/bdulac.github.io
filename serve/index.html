<!DOCTYPE html>
<html>
<head>
	<link href="http://gmpg.org/xfn/11" rel="profile">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>Notes of a Java developer &middot; blog</title>
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" type="text/css" media="only screen and (min-width: 1001px)" href="/assets/css/desktop.css" />
	<link rel="stylesheet" type="text/css" media="only screen and (max-width: 1000px)" href="/assets/css/mobile.css" />
	<link href="/assets/css/genericons.css" type="text/css" rel="stylesheet" />
	<link href="/assets/css/syntax.css" type="text/css" rel="stylesheet" />
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
	<link rel="apple-touch-icon" href="http://bdulac.github.io//assets/images/home.png">
	<link rel="shortcut icon" href="http://bdulac.github.io//assets/images/favicon.ico">
	<link rel="alternate" type="application/rss+xml" title="RSS" href="http://bdulac.github.io//atom.xml">
</head>
<body>
	<div id="container" style="background-image: url(/assets/images/cover.png);">
<header style="height: 150px;">
	<label class="menu" for="_1">
	<span class="genericon genericon-menu"></span>
</label>
<input id="_1" type="checkbox">
<div class="menu-content">
	<div class="menu" style="background-color: #777; z-index: -1;"></div>
	
	<a href="/">Home</a><br>
	
	<a href="/about">About</a><br>
	
</div>
<div class="social-links">
	
	<a href="http://facebook.com/berenger.dulac" target="_blank" title="Join me on Facebook"><span class="genericon genericon-facebook"></span></a>
	
	<a href="https://github.com/bdulac" target="_blank" title="Fork me on github"><span class="genericon genericon-github"></span></a>
	
	<a href="http://bdulac.github.io/atom.xml" target="_blank" title="Subscribe to my Atom feed"><span class="genericon genericon-feed"></span></a>
	
	<a href="http://bdulac.github.io/feed.xml" target="_blank" title="Subscribe to my RSS feed"><span class="genericon genericon-feed"></span></a>
	
</div>
	<div id="home-title">
		<a href="http://bdulac.github.io/">
			<img src="/assets/images/home.png" class="site-icon" />
		</a>
		<h1>Notes of a Java developer</h1>
	</div>
</header>
<div id="post-list">
	
	<article>
		<header>
			<h1><a href="/blog/history-of-computing-information-processing-and-transactions">History of computing: information processing and transactions</a></h1>
		</header>
		<main>
			<div id="article" class="post-content">
				<p>
    "Computer science is no more about computers than astronomy is about
    telescopes" said <a href="http://viaf.org/viaf/17820452">Edsger
        Dijkstra</a>.
</p>

<p>
    I have always been interested in the two sides of
    computing:
</p>

<p>
<ul>
    <li>Calculus</li>
    <li>Information processing</li>
</ul>
<p>
In the early ages of computing, we tend to focus on the first machines
and their calculus properties.
<a href="http://viaf.org/viaf/4963723">Charles Babbage</a>
inventions are famous.
</p>

<p>
    But in the early 19th century, the pioneer was also interested in
    information processing and transactions. Reading <a
        href="http://dx.doi.org/10.1145/1831407.1831417">an article</a>, I
    discovered he described the processes involving bank transactions in <a
        href="http://books.google.fr/books/about/On_the_Economy_of_Machinery_and_Manufact.html?id=4QWZq4FDoH4C">one
        of his works</a>.
</p>

			</div>
		</main>
		<!-- <p class="post-description">
    "Computer science is no more about computers than astronomy is about
    telescopes" said Edsger
        Dijkstra.



    I have always been interested in the two sides of
    computing:




    Calculus
    Information processing


In the early ages of computing, we tend to focus on the first machines
and their calculus properties.
Charles Babbage
inventions are famous.



    But in the early 19th century, the pioneer was also interested in
    information processing and transactions. Reading an article, I
    discovered he described the processes involving bank transactions in one
        of his works.

</p> -->
		<footer>
			<span class="post-date">19 February 2014</span>
		</footer>
	</article>
		<br>
	
	<article>
		<header>
			<h1><a href="/blog/point-of-view-mvc-frameworks">Point of view: MVC frameworks</a></h1>
		</header>
		<main>
			<div id="article" class="post-content">
				<p>
    After some (bad) experiences, I am quite sceptical about <a
        href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC</a>
    frameworks. The hall of fame has accepted a few names: <a
        href="http://struts.apache.org/">Struts</a>, <a
        href="http://www.playframework.com/">Play</a>, <a
        href="https://wicket.apache.org/">Wicket</a>... And then ?
</p>

<p>
    Each period has its champion. Struts, as one of the elders, had a
    long period. So many developers had to use it. But what about software
    maintenance and evolutions ? Struts 1 upgrade to
    version 2 ? What about moving to another technology ?
</p>

<p>
    Quite a nightmare, it is sometimes easier to rewrite completely
    the application. In my point of view, long term solutions rely directly on the
    Java platform. The classic <a
        href="https://jcp.org/aboutJava/communityprocess/final/jsr315/">Servlet</a>
    / <a href="https://jcp.org/aboutJava/communityprocess/final/jsr245/">JSP</a>&nbsp;tandem
    is not an MVC implementation but is plain and simple and evolutions are
    easy. I understand <a href="https://jcp.org/en/jsr/detail?id=314">JSF</a>
    enthusiasts. The solution is modern and interesting on a productivity
    point of view. I have a personal problem with JSF (and <a
        href="http://www.youtube.com/watch?v=9ei-rbULWoA#t=47m">others</a>
    share my opinion) : JSF and JSP are bad companions. What a shame for
    two specifications...
</p>

<p>
    While the RESTful architectural style is trendy, the idea of
    integrating <a href="https://www.jcp.org/en/jsr/detail?id=339">JAX-RS</a>
    and JSPs is interesting (<a
        href="https://jersey.java.net/documentation/latest/mvc.html">part</a>
    of <a href="https://jersey.java.net/">Jersey</a>). Hope it will be part of the core specification someday.
</p>

<p>
    <b>Edit</b> <em>(2014-08-21)</em> : the JAX-RS / MVC integration was part of the 
    <a href="https://jcp.org/en/jsr/detail?id=339">JSR 339</a> initial request but was dismissed in the final specification. 
    A <a href="https://java.net/projects/jax-rs-spec/lists/users/archive/2014-08/message/16">recent message</a> on the 
    specification list let me have some hope...
</p>

			</div>
		</main>
		<!-- <p class="post-description">
    After some (bad) experiences, I am quite sceptical about MVC
    frameworks. The hall of fame has accepted a few names: Struts, Play, Wicket... And then ?



    Each period has its champion. Struts, as one of the elders, had a
    long period. So many developers had to use it. But what about software
    maintenance and evolutions ? Struts 1 upgrade to
    version 2 ? What about moving to another technology ?



    Quite a nightmare, it is sometimes easier to rewrite completely
    the application. In my point of view, long term solutions rely directly on the
    Java platform. The classic Servlet
    / JSP&nbsp;tandem
    is not an MVC implementation but is plain and simple and evolutions are
    easy. I understand JSF
    enthusiasts. The solution is modern and interesting on a productivity
    point of view. I have a personal problem with JSF (and others
    share my opinion) : JSF and JSP are bad companions. What a shame for
    two specifications...



    While the RESTful architectural style is trendy, the idea of
    integrating JAX-RS
    and JSPs is interesting (part
    of Jersey). Hope it will be part of the core specification someday.



    Edit (2014-08-21) : the JAX-RS / MVC integration was part of the 
    JSR 339 initial request but was dismissed in the final specification. 
    A recent message on the 
    specification list let me have some hope...

</p> -->
		<footer>
			<span class="post-date">10 January 2014</span>
		</footer>
	</article>
		<br>
	
	<article>
		<header>
			<h1><a href="/blog/memory-errors-in-java">Memory errors in Java</a></h1>
		</header>
		<main>
			<div id="article" class="post-content">
				<p>
    Memory in <i>Java</i> is largely made easy by garbage collection. This
    automatic management of memory does not prevent from any memory
    problem. Here are some basics elements I find useful to review while
    facing a memory error.
</p>

<p>
    The memory is divided in two distinct spaces, even if this <a
        href="http://openjdk.java.net/jeps/122">might change in Java 8</a><a
        href="http://www.blogger.com/null">.</a><br />
<ul>
    <li>The PermGen space contains classes definitions</li>
    <li>The Heap space contains objects</li>
</ul>
When a memory problem occurs, an
<a
    href="http://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html">error</a>
is raised. This
<a
    href="http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html">throwable</a>
contains information about the cause of the problem and the impacted
memory space. Most of time, these informations are sufficient to help
solve the problem.
</p>

<p>
    The JVM options mentioned in this post are for <i>HotSpot</i>
    (Sun/Oracle implementation). For more informations, the <a
        href="http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html">official
        <i>HotSpot</i> tuning documentation
    </a> is very helpful.<br />
    <a
        href="http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-VM/html/memleaks.html#gbyuu"><br /></a><a
        href="http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-VM/html/memleaks.html#gbyuu"><u>java.lang.OutOfMemoryError:
            PermGen space</u></a><br />
<ul></ul>
The space allocated for classes definitions is full. This can happen if
the environment loads a large number of classes (common in Java EE
environments). The allocated space can be configured via the JVM option
<i>-XX:PermSize=256m</i>
(for 256 megabytes).
</p>

<p>
    In some situations, this saturation can be caused by a hot deployment.
    A workaround for such a problem is the JVM option&nbsp; <i>-XX:+CMSClassUnloadingEnabled</i>.
    This clear all references to obsolete classes definitions. A very
    helpful option when processing multiple hot deployments in a <i>Tomcat</i>
    environment.
</p>

<p>
    A <a
        href="http://frankkieviet.blogspot.fr/2006/10/classloader-leaks-dreaded-permgen-space.html">blog
        post</a> by Frank Kieviet explains a pattern that could also cause PermGen
    space errors.
</p>

<p>
    <a
        href="http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-VM/html/memleaks.html#gbyvh"><u>Message
            java.lang.OutOfMemoryError: Java heap space</u></a>
</p>

<p>The created objects stay in the Heap space while being referenced
    in the executed program. When an object is not referenced any more, it
    becomes available for release by the Garbage Collector (GC). Most of
    time, the GC acts when the available memory becomes low. This is highly
    configurable with many JVM options.</p>
<p>
    If there is no memory leak, the easy solution is to increase the
    available space.<br />All becomes complicated when there is a memory
    leak. The cause can be difficult to identify. Several tools help to
    identify the problem nature.
</p>

<p>
    I personally generate an <i>hprof</i> file with the JVM option <i>-XX:+HeapDumpOnOutOfMemory</i>.
    Another JVM option <i>-XX:HeapDumpPath=...</i> allows to specify the
    generated file location.The <a href="http://www.eclipse.org/mat/">Eclipse
        MAT</a> tools helps to visualize the generated file.
</p>

<p>
    Another solution is to run your program with the Eclipse <a
        href="http://www.eclipse.org/tptp/">TPTP tools</a>. But I prefer to
    avoid this option because it requires much resources to run (and was
    quite unstable the last time I used it).
</p>

<p>
    <a
        href="http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#cms.oom"><u>Message
            java.lang.OutOfMemoryError: GC limit overhead exceeded</u></a>
</p>

<p>
    This error happens when the system spends too much time executing
    garbage collection. Literally, there is no memory saturation but the
    system uses most of its memory despite garbage collections. A simple
    workaround can be to extend the Heap space. If the problem persists,
    tuning the GC configuration will probably be the solution.
</p>

			</div>
		</main>
		<!-- <p class="post-description">
    Memory in Java is largely made easy by garbage collection. This
    automatic management of memory does not prevent from any memory
    problem. Here are some basics elements I find useful to review while
    facing a memory error.



    The memory is divided in two distinct spaces, even if this might change in Java 8.

    The PermGen space contains classes definitions
    The Heap space contains objects

When a memory problem occurs, an
error
is raised. This
throwable
contains information about the cause of the problem and the impacted
memory space. Most of time, these informations are sufficient to help
solve the problem.



    The JVM options mentioned in this post are for HotSpot
    (Sun/Oracle implementation). For more informations, the official
        HotSpot tuning documentation
     is very helpful.
    java.lang.OutOfMemoryError:
            PermGen space

The space allocated for classes definitions is full. This can happen if
the environment loads a large number of classes (common in Java EE
environments). The allocated space can be configured via the JVM option
-XX:PermSize=256m
(for 256 megabytes).



    In some situations, this saturation can be caused by a hot deployment.
    A workaround for such a problem is the JVM option&nbsp; -XX:+CMSClassUnloadingEnabled.
    This clear all references to obsolete classes definitions. A very
    helpful option when processing multiple hot deployments in a Tomcat
    environment.



    A blog
        post by Frank Kieviet explains a pattern that could also cause PermGen
    space errors.



    Message
            java.lang.OutOfMemoryError: Java heap space


The created objects stay in the Heap space while being referenced
    in the executed program. When an object is not referenced any more, it
    becomes available for release by the Garbage Collector (GC). Most of
    time, the GC acts when the available memory becomes low. This is highly
    configurable with many JVM options.

    If there is no memory leak, the easy solution is to increase the
    available space.All becomes complicated when there is a memory
    leak. The cause can be difficult to identify. Several tools help to
    identify the problem nature.



    I personally generate an hprof file with the JVM option -XX:+HeapDumpOnOutOfMemory.
    Another JVM option -XX:HeapDumpPath=... allows to specify the
    generated file location.The Eclipse
        MAT tools helps to visualize the generated file.



    Another solution is to run your program with the Eclipse TPTP tools. But I prefer to
    avoid this option because it requires much resources to run (and was
    quite unstable the last time I used it).



    Message
            java.lang.OutOfMemoryError: GC limit overhead exceeded



    This error happens when the system spends too much time executing
    garbage collection. Literally, there is no memory saturation but the
    system uses most of its memory despite garbage collections. A simple
    workaround can be to extend the Heap space. If the problem persists,
    tuning the GC configuration will probably be the solution.

</p> -->
		<footer>
			<span class="post-date">04 January 2014</span>
		</footer>
	</article>
		<br>
	
	<article>
		<header>
			<h1><a href="/blog/design-by-contract-assertions-and-exceptions">Design by contract, assertions and exceptions</a></h1>
		</header>
		<main>
			<div id="article" class="post-content">
				<p>Understanding design by contract is important for code quality.</p>

<p>
    <a href="http://viaf.org/viaf/51714577">B. Meyer</a> <a
        href="http://www.worldcat.org/oclc/17675237">introduced the idea</a>
    in 1988. It takes advantage of <a
        href="http://dx.doi.org/10.1145/363235.363259">assertions as
        defined</a> by <a href="http://viaf.org/viaf/108123782">C.A.R. Hoare</a>.
</p>

<p>
    Assertions are associated to an object method and qualified in
    one of three categories :
</p>

<p>
<ul>
    <li>Preconditions are assertions true before executing the method</li>
    <li>Postconditions are assertions true after executing the method</li>
    <li>Invariants are assertions true before and after executing the
        method</li>
</ul>
</p>

<p>
    Meyer includes his idea in the <a href="http://www.eiffel.com/">Eiffel</a>
    programming language : the assertions are checked in a static way (at
    compile time).
</p>

<p>
    If the <i>Java</i> programming language provides support for <a
        href="http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html">assertions</a>,
    these are checked only in a dynamic way (at runtime) and disabled by
    default. Because of runtime checking, <a
        href="http://docs.oracle.com/javase/tutorial/essential/exceptions/">exceptions</a>
    are largely used instead of assertions. In <i>Java</i>, a proper use of
    exceptions<a
        href="http://docs.oracle.com/javase/tutorial/essential/exceptions/"></a>
    is more expressive than a proper use of assertions.
</p>

<p>
    <a href="http://viaf.org/viaf/71793922">Bloch</a> <a
        href="http://www.worldcat.org/oclc/124025332">defines</a> runtime
    exceptions as programming errors and checked exceptions as recoverable
    conditions.
</p>

<p>
    In an non-Java context, <a href="http://viaf.org/viaf/5145169">Fowler</a>
    <a href="http://www.worldcat.org/oclc/630586726">says</a> an exception
    is a situation where preconditions are satisfied but postconditions can
    not be satisfied.
</p>

<p>I consider</p>

<p>
<ul>
    <li>Runtime exceptions should be used for checking preconditions</li>
    <li>Checked exceptions should be used when preconditions are true
        but postconditions can not be satisfied, assuming that the method is
        correct (e.g. the network connection is broken).&nbsp;</li>
</ul>
If a runtime exception is raised, the calling method should be bugged
(or its preconditions are not properly checked).
</p>

<p>
    Some extensions to the <i>Java</i> platform provide support for static
    testing (assertions checking at compile time). For example, <a
        href="http://www.eecs.ucf.edu/~leavens/JML/">JML</a> takes advantage
    of <i>Java</i> comments.
</p>

			</div>
		</main>
		<!-- <p class="post-description">Understanding design by contract is important for code quality.


    B. Meyer introduced the idea
    in 1988. It takes advantage of assertions as
        defined by C.A.R. Hoare.



    Assertions are associated to an object method and qualified in
    one of three categories :




    Preconditions are assertions true before executing the method
    Postconditions are assertions true after executing the method
    Invariants are assertions true before and after executing the
        method




    Meyer includes his idea in the Eiffel
    programming language : the assertions are checked in a static way (at
    compile time).



    If the Java programming language provides support for assertions,
    these are checked only in a dynamic way (at runtime) and disabled by
    default. Because of runtime checking, exceptions
    are largely used instead of assertions. In Java, a proper use of
    exceptions
    is more expressive than a proper use of assertions.



    Bloch defines runtime
    exceptions as programming errors and checked exceptions as recoverable
    conditions.



    In an non-Java context, Fowler
    says an exception
    is a situation where preconditions are satisfied but postconditions can
    not be satisfied.


I consider



    Runtime exceptions should be used for checking preconditions
    Checked exceptions should be used when preconditions are true
        but postconditions can not be satisfied, assuming that the method is
        correct (e.g. the network connection is broken).&nbsp;

If a runtime exception is raised, the calling method should be bugged
(or its preconditions are not properly checked).



    Some extensions to the Java platform provide support for static
    testing (assertions checking at compile time). For example, JML takes advantage
    of Java comments.

</p> -->
		<footer>
			<span class="post-date">03 January 2014</span>
		</footer>
	</article>
		<br>
	
	<article>
		<header>
			<h1><a href="/blog/java-compilation-with-the-eclipse-ide">Java compilation with the Eclipse IDE</a></h1>
		</header>
		<main>
			<div id="article" class="post-content">
				<p>
    You probably have noticed that the <a href="http://www.eclipse.org/">Eclipse
        IDE</a> does not require a <a
        href="http://en.wikipedia.org/wiki/Java_Development_Kit">JDK</a> to
    compile a Java program: this is possible with a simple <a
        href="http://en.wikipedia.org/wiki/JRE#Execution_environment">JRE</a>.
</p>

<p>
    The IDE <a href="http://www.eclipse.org/jdt/">Java development
        tools</a> include the appropriate components to compile a program. An <a
        href="http://www.eclipse.org/articles/article.php?file=Article-JavaCodeManipulation_AST/index.html">AST
        parser</a> is exposed to help the code manipulation. Compilation is
    generally defined in two steps : analysis and synthesis. The <a
        href="http://wiki.eclipse.org/FAQ_What_is_an_AST%3F">AST</a> is the
    analyzed version of&nbsp; a program organized as a tree connecting
    declarations and definitions. A specific <a
        href="http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Fguide%2Fjdt_int_model.htm">API
        called the Java model</a> provides an abstraction layer for the AST. The C
    development tools <a
        href="http://www.ibm.com/developerworks/library/os-ecl-cdt3/">also
        include an AST parser</a>.
</p>

<p>
    With such informations, the IDE is in Java able to perform complex
    operations on the code design. Functions exposed in the <a
        href="http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-menu-refactor.htm">refactor
        menu</a> take advantage of the Eclipse AST parser.
</p>

<p>
    The compilation performed using the Eclipse AST is reliable. Since
    tomcat 5.5, it is <a
        href="http://tomcat.apache.org/tomcat-5.5-doc/jasper-howto.html">used
        by the Jasper engine to compile JSPs as servlets</a>. This is why, since
    this version, the servlet container does not require any longer a JDK
    to run.
</p>

<p>
    You should be careful when compiling with Eclipse : there are a
    few differences when compiling with the JDK (especially on generics
    transtyping).
</p>

			</div>
		</main>
		<!-- <p class="post-description">
    You probably have noticed that the Eclipse
        IDE does not require a JDK to
    compile a Java program: this is possible with a simple JRE.



    The IDE Java development
        tools include the appropriate components to compile a program. An AST
        parser is exposed to help the code manipulation. Compilation is
    generally defined in two steps : analysis and synthesis. The AST is the
    analyzed version of&nbsp; a program organized as a tree connecting
    declarations and definitions. A specific API
        called the Java model provides an abstraction layer for the AST. The C
    development tools also
        include an AST parser.



    With such informations, the IDE is in Java able to perform complex
    operations on the code design. Functions exposed in the refactor
        menu take advantage of the Eclipse AST parser.



    The compilation performed using the Eclipse AST is reliable. Since
    tomcat 5.5, it is used
        by the Jasper engine to compile JSPs as servlets. This is why, since
    this version, the servlet container does not require any longer a JDK
    to run.



    You should be careful when compiling with Eclipse : there are a
    few differences when compiling with the JDK (especially on generics
    transtyping).

</p> -->
		<footer>
			<span class="post-date">24 October 2013</span>
		</footer>
	</article>
		<br>
	
</div>
<nav class="pagination" role="navigation">
	
		<a class="newer-posts" href="/page2">&larr; Older posts</a>
	
	<span class="page-number">Page 1 of 2</span>
	
</nav>
<footer class="clean" style="background-image: url(/assets/images/cover.png); background-position: bottom; height: 60px;">
	<p class="copyright">&copy;2014, <a href="https://github.com/bdulac" target="_blank">Bérenger Dulac</a>. <a href="http://creativecommons.org/licenses/by-nc/2.5" target="_blank">Some rights reserved</a>.</p>
</footer>
</div>
</body>
</html>